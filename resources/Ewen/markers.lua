ZonesListe = {
    ["LTD-Sud"] = {
        Position = vector3(-707.40, -914.74, 19.21),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "LTD Gasoline",
            Sprite = 52,
            Display = 4,
            Scale = 0.75,
            Color = 69
        },
        Action = function()
            OpenMenuLtd() 
        end
    },
    ["LTD-Families"] = {
        Position = vector3(25.74, -1345.52, 29.49),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "247 Supermarket",
            Sprite = 52,
            Display = 4,
            Scale = 0.75,
            Color = 69
        },
        Action = function()
            OpenMenuLtd() 
        end
    },
    ["LTD-Gs"] = {
     Position = vector3(-48.199, -1757.80, 29.42),
     Public = true,
     Job = nil,
     Job2 = nil,
     Blip = {
         Name = "LTD Gasoline",
         Sprite = 52,
         Display = 4,
         Scale = 0.75,
         Color = 69
     },
     Action = function()
         OpenMenuLtd() 
     end
     },
     ["LTD-4"] = {
         Position = vector3(374.17, 327.80, 103.56),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-5"] = {
         Position = vector3(-1223.01, -907.29, 12.32),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-6"] = {
         Position = vector3(1135.59, -982.61, 46.41),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-7"] = {
         Position = vector3(-2967.84, 391.40, 15.04),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-8"] = {
         Position = vector3(-3041.06, 585.103, 7.90),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-9"] = {
         Position = vector3(-3244.08, 1001.32, 12.83),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-10"] = {
         Position = vector3(-1821.41, 793.88, 138.11),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "LTD Gasoline",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-11"] = {
         Position = vector3(1698.2601318359,4924.3442382812,42.063694000244),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "LTD Gasoline",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-12"] = {
         Position = vector3(1961.0549316406,3740.8920898438,32.343730926514),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-13"] = {
         Position = vector3(-1486.9412841797,-379.38009643555,40.163440704346),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-14"] = {
         Position = vector3(1163.5622558594,-323.66421508789,69.205047607422),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "LTD Gasoline",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-15"] = {
         Position = vector3(2556.3720703125,382.12768554688,108.62291717529),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-16"] = {
         Position = vector3(1166.0716552734,2709.3576660156,38.15771484375),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-17"] = {
         Position = vector3(547.82373046875,2670.9067382812,42.156532287598),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-18"] = {
         Position = vector3(2678.3679199219,3280.6831054688,55.241115570068),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-19"] = {
         Position = vector3(1729.1472167969,6414.927734375,35.037212371826),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "247 Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-20"] = {
         Position = vector3(1392.6323242188,3605.0432128906,34.980930328369),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Robs Liquor",
             Sprite = 52,
             Display = 4,
             Scale = 0.75,
             Color = 69
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["ammunation_1"] = {
        Position = vector3(-330.741, 6084.024, 31.454),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_2"] = {
        Position = vector3(1693.205, 3759.992, 34.705),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_3"] = {
        Position = vector3(22.201, -1106.807, 29.797),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_4"] = {
        Position = vector3(-662.200, -934.909, 21.829),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_5"] = {
        Position = vector3(810.255, -2157.741, 29.619),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_6"] = {
        Position = vector3(252.485, -50.108, 69.941),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_7"] = {
        Position = vector3(-1118.0906982422,2698.736328125,18.554153442383),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_8"] = {
        Position = vector3(-1305.4774169922,-394.43237304688,36.695766448975),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_9"] = {
        Position = vector3(2567.6823730469,293.95245361328,108.73487091064),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.75,
            Color = 75
        },
        Action = function()
            AmmuNation() 
        end
    },
     ["location_start"] = {
        Position = vector3(-824.85, -115.71, 37.58),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Véhicule",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(6)  
        end
    }, 
    ["location_velo"] = {
        Position = vector3(292.229, -193.093, 61.570),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    }, 
    ["location_velo2"] = {
        Position = vector3(155.608, -998.386, 29.354),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["location_velo3"] = {
        Position = vector3(735.9658203125,-1203.9626464844,27.588882446289),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["location_velo4"] = {
        Position = vector3(-926.17504882812,-802.38226318359,15.920928955078),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["location_velo5"] = {
        Position = vector3(-1342.3837890625,-1412.5201416016,4.3134489059448),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["location_velo6"] = {
        Position = vector3(830.09985351562,-255.79614257812,65.845817565918),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["location_velo7"] = {
        Position = vector3(492.82116699219,5591.267578125,794.43695068359),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Vélo",
            Sprite = 226,
            Display = 4,
            Scale = 0.75,
            Color = 11
        },
        Action = function()
            openLocation(3)  
        end
    },
    ["Banque_1"] = {
        Position = vector3(149.694, -1040.757, 29.374),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Banque",
            Sprite = 207,
            Display = 4,
            Scale = 0.75,
            Color = 25
        },
        Action = function()
            OpenMenuPlayerBank()
        end
    },
    ["Banque_2"] = {
        Position = vector3(313.969, -279.032, 54.1708),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Banque",
            Sprite = 207,
            Display = 4,
            Scale = 0.75,
            Color = 25
        },
        Action = function()
            OpenMenuPlayerBank()
        end
    },
    ["Banque_3"] = {
        Position = vector3(-1212.751, -330.773, 37.787),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Banque",
            Sprite = 207,
            Display = 4,
            Scale = 0.75,
            Color = 25
        },
        Action = function()
            OpenMenuPlayerBank()
        end
    },
    ["Banque_4"] = {
        Position = vector3(-2962.589, 482.689, 15.703),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Banque",
            Sprite = 207,
            Display = 4,
            Scale = 0.75,
            Color = 25
        },
        Action = function()
            OpenMenuPlayerBank()
        end
    },
    ["Banque_5"] = {
        Position = vector3(1174.9436035156,2706.8845214844,38.09411239624),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Banque",
            Sprite = 207,
            Display = 4,
            Scale = 0.75,
            Color = 25
        },
        Action = function()
            OpenMenuPlayerBank()
        end
    },
    ["CarWash1"] = {
        Position = vector3(20.768850326538,-1391.8957519531,29.3265209198),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Station lavage",
            Sprite = 100,
            Display = 4,
            Scale = 0.75,
            Color = 0
        },
        Action = function()
            openWarcash()
        end
    },
    ["CarWash3"] = {
        Position = vector3(174.83891296387,-1736.6905517578,29.291639328003),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Station lavage",
            Sprite = 100,
            Display = 4,
            Scale = 0.75,
            Color = 0
        },
        Action = function()
            openWarcash()
        end
    },
    ["Magasin d'accéssoires"] = {
        Position = vector3(-804.69226074219,-600.15887451172,30.275325775146),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin d'accéssoire",
            Sprite = 102,
            Display = 4,
            Scale = 0.75,
            Color = 10
        },
        Action = function()
            openAccessShop()
        end
    },
    ["Coiffeur1"] = {
        Position = vector3(-814.3, -183.8, 36.6),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Coiffeur2"] = {
        Position = vector3(-32.9, -152.3, 56.1),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Coiffeur3"] = {
        Position = vector3(1212.8, -472.9, 65.2),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Coiffeur4"] = {
        Position = vector3(-1282.6, -1116.8, 6.0),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Coiffeur5"] = {
        Position = vector3(136.8, -1708.4, 28.3),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Coiffeur5"] = {
        Position = vector3(-278.1, 6228.5, 30.7),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.75,
            Color = 21
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
}

function AddMarker(id, data)
    if not ZonesListe[id] then 
        ZonesListe[id] = data
    end
end

function RemoveMarker(id)
    ZonesListe[id] = nil
end

Citizen.CreateThread(function()
    for _,marker in pairs(ZonesListe) do
        if marker.Blip then
            local blip = AddBlipForCoord(marker.Position)

            SetBlipSprite(blip, marker.Blip.Sprite)
            SetBlipScale(blip, marker.Blip.Scale)
            SetBlipColour(blip, marker.Blip.Color)
            SetBlipDisplay(blip, marker.Blip.Display)
            SetBlipAsShortRange(blip, true)
    
            BeginTextCommandSetBlipName('STRING')
            AddTextComponentSubstringPlayerName(marker.Blip.Name)
            EndTextCommandSetBlipName(blip)
        end
	end

    while true do
        local isProche = false
        for k,v in pairs(ZonesListe) do
            if v.Public or ESX.PlayerData.job ~= nil and ESX.PlayerData.job.name == v.Job or ESX.PlayerData.job2.name == v.Job2 then
                local dist = Vdist2(GetEntityCoords(PlayerPedId(), false), v.Position)

                if dist < 50 then
                    isProche = true
                    DrawMarker(25, v.Position.x, v.Position.y, v.Position.z-0.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.55, 0.55, 0.55, 255, 147, 0, 255, false, false, 2, false, false, false, false)
                end
                if dist < 3 then
                    ESX.ShowHelpNotification("~b~SeaLife Roleplay\n~b~Appuyez sur ~INPUT_CONTEXT~ pour intéragir")
                    if IsControlJustPressed(1,51) then
                        v.Action(v.Position)
                    end
                end
            end
        end
        
		if isProche then
			Wait(0)
		else
			Wait(750)
		end
	end
end)